<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Unusual Pills</title>
  <style>
    :root {
      --max-img: 300px;
    }

    body {
      margin: 0;
      background: url("static/images/background.png") no-repeat center center fixed; 
      background-size: cover;
      color: white;
      font-family: Arial, sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      flex-direction: column;
      position: relative;
      overflow: hidden;
    }

    /* Common image link styles */
    .logo, .merch-pill, .snail {
      width: min(60vw, var(--max-img));
      max-width: var(--max-img);
      cursor: pointer;
      transition: transform 0.3s ease;
      margin-top: 20px;
      display: block;
    }

    .logo:hover, .merch-pill:hover, .snail:hover {
      transform: scale(1.05);
    }

    /* Snail to the left on larger screens */
    .snail-link {
      position: absolute;
      left: 16px;
      top: 50%;
      transform: translateY(-50%);
      z-index: 1; /* keep it under the main buttons */
    }

    /* Center buttons above the snail for click priority */
    .center-links {
      display: flex;
      flex-direction: column;
      align-items: center;
      z-index: 2;
    }

    h1 {
      margin-top: 20px;
      font-size: 24px;
      text-align: center;
    }

    /* Mobile fixes: stack everything, no absolute snail */
    @media (max-width: 640px) {
      body { 
        overflow: auto; 
        padding: 20px 0; 
        background-attachment: scroll; /* fix for iOS */
      }

      .snail-link {
        position: static;
        transform: none;
        margin-top: 10px;
        order: -1; /* show first */
      }

      .logo, .merch-pill, .snail {
        width: min(80vw, var(--max-img));
      }

      .center-links {
        margin-top: 10px;
      }
    }

    /* Glitch face styling */
    .glitch-face {
      position: absolute;
      right: 20px;
      top: 50%;
      transform: translateY(-50%);
      z-index: 0; /* behind main buttons */
      width: 150px;
      overflow: hidden;
    }

    .glitch-face img {
      width: 100%;
      transition: transform 0.1s ease, filter 0.1s ease;
      will-change: transform, filter;
    }
  </style>
</head>
<body>
 
  <!-- Main links centered -->
  <div class="center-links">
    <!-- Main claw machine start button -->
    <a href="claw.html" aria-label="Start Claw Machine">
      <img src="static/images/unusualpills.png" alt="Rainbow Pills Logo" class="logo" />
    </a>

    <!-- Merch page button -->
    <a href="merch.html" aria-label="Merch Page">
      <img src="static/images/merch.png" alt="Merch Pill" class="merch-pill" />
    </a>
  </div>

  <!-- Glitchy face element -->
  <div class="glitch-face">
    <img src="static/images/face.png" alt="Glitch Face" />
  </div>

  <script>
    const face = document.querySelector(".glitch-face img");

    function glitchEffect() {
      const randX = (Math.random() - 0.5) * 20; // shake
      const randY = (Math.random() - 0.5) * 20;
      const randSkew = (Math.random() - 0.5) * 10;
      const randHue = Math.random() * 360;

      face.style.transform = `translate(${randX}px, ${randY}px) skew(${randSkew}deg)`;
      face.style.filter = `hue-rotate(${randHue}deg) contrast(1.5) saturate(2)`;
      
      setTimeout(() => {
        face.style.transform = `translate(0,0) skew(0deg)`;
        face.style.filter = `hue-rotate(0deg)`;
      }, 150);
    }

    // glitch out every random interval
    setInterval(glitchEffect, 500 + Math.random() * 2000);
  </script>
</body>
</html>
